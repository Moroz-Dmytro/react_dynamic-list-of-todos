(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var s,r=n(11),a=n.n(r),c=n(6),o=n.n(c),i=n(7),l=n(2),d=n(3),u=n(5),h=n(4),j=n(1),p=n.n(j),b=(n(17),n(18),n(19),n(20),n(9)),f=n.n(b);!function(e){e.Default="default",e.All="all",e.Completed="completed",e.Active="active"}(s||(s={}));n(21);var m=n(0),v=function(e){var t=e.titlePhrase,n=e.handleChange,r=e.todoStatus,a=e.selectStatus;return Object(m.jsxs)("div",{className:"filter-block",children:[Object(m.jsx)("input",{type:"text",className:"filter-block__input",value:t,placeholder:"Search by title",onChange:function(e){return n(e.target.value)}}),Object(m.jsxs)("select",{name:"progressTodo",value:r,onChange:function(e){return a(e.target.value)},children:[Object(m.jsx)("option",{value:s.Default,disabled:!0,children:"Choose todo status"}),Object(m.jsx)("option",{value:s.All,children:"All"}),Object(m.jsx)("option",{value:s.Active,children:"Active"}),Object(m.jsx)("option",{value:s.Completed,children:"Completed"})]})]})},O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={titlePhrase:"",todoStatus:s.Default},e.handleChange=function(t){e.setState({titlePhrase:t})},e.selectStatus=function(t){e.setState({todoStatus:t})},e.getTodoStatus=function(t){switch(e.state.todoStatus){case s.Active:return!t;case s.Completed:return t;default:return!0}},e.getFilteredTodos=function(t){var n=e.state.titlePhrase.toLowerCase();return t.filter((function(t){var s=t.title,r=t.completed,a=s.toLowerCase();return a&&a.includes(n)&&e.getTodoStatus(r)}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.todos,n=e.selectUser,s=this.state,r=s.titlePhrase,a=s.todoStatus,c=this.getFilteredTodos(t);return Object(m.jsxs)("div",{className:"TodoList",children:[Object(m.jsx)("h2",{children:"Todos:"}),Object(m.jsx)(v,{titlePhrase:r,handleChange:this.handleChange,todoStatus:a,selectStatus:this.selectStatus}),Object(m.jsx)("div",{className:"TodoList__list-container",children:Object(m.jsx)("ul",{className:"TodoList__list",children:c.map((function(e){var t=e.id,s=e.title,r=e.completed,a=e.userId;return Object(m.jsxs)("li",{className:f()("TodoList__item",{"TodoList__item--checked":r},{"TodoList__item--unchecked":!r}),children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",readOnly:!0,checked:r}),Object(m.jsx)("p",{children:s})]}),Object(m.jsx)("button",{className:f()("TodoList__user-button",{"TodoList__user-button--selected":r},"button"),type:"button",onClick:function(){return n(a)},children:"User".concat(a)})]},t)}))})})]})}}]),n}(p.a.Component),x=n(10),_=(n(23),function(e){return fetch("".concat("https://mate.academy/students-api/").concat(e)).then((function(e){if(!e.ok)throw new Error("Something went wrong :(");return e.json()}))}),g=function(){return _("todos")},S=function(e){return _("users/".concat(e))},C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={id:0,name:"",email:"",phone:"",error:!1,loading:!1},e.loadUserData=Object(i.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,S(e.props.userId);case 4:n=t.sent,e.setState(Object(x.a)(Object(x.a)({},n),{},{loading:!1,error:!1})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({loading:!1,error:!0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadUserData()}},{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.loadUserData()}},{key:"render",value:function(){var e=this.state,t=e.id,n=e.name,s=e.email,r=e.phone,a=e.error,c=e.loading;return Object(m.jsx)(m.Fragment,{children:c?Object(m.jsx)("h2",{children:"Loading..."}):Object(m.jsxs)(m.Fragment,{children:[a&&Object(m.jsx)("h2",{children:"Ups... Something went wrong"}),!a&&Object(m.jsxs)("div",{className:"CurrentUser",children:[Object(m.jsx)("h2",{className:"CurrentUser__title",children:Object(m.jsx)("span",{children:"Selected user: ".concat(t)})}),Object(m.jsx)("h3",{className:"CurrentUser__name",children:n}),Object(m.jsx)("p",{className:"CurrentUser__email",children:s}),Object(m.jsx)("p",{className:"CurrentUser__phone",children:r}),Object(m.jsx)("button",{className:"button",type:"button",onClick:this.props.clearSelectedUser,children:"Clear"})]})]})})}}]),n}(p.a.Component),U=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={selectedUserId:0,todos:[],error:!1},e.loadData=Object(i.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g();case 3:n=t.sent,e.setState({todos:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({error:!0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearSelectedUser=function(){e.setState({selectedUserId:0})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,n=e.todos;return e.error?Object(m.jsx)("h2",{children:"Ups... Something went wrong"}):Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{className:"App__sidebar",children:Object(m.jsx)(O,{todos:n,selectUser:this.selectUser})}),Object(m.jsx)("div",{className:"App__content",children:Object(m.jsx)("div",{className:"App__content-container",children:t?Object(m.jsx)(C,{userId:t,clearSelectedUser:this.clearSelectedUser}):"No user selected"})})]})}}]),n}(p.a.Component),y=U;a.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.076d72ae.chunk.js.map