{"version":3,"sources":["types.ts","components/TodoFilter/TodoFilter.tsx","components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoStatus","TodoFilter","props","titlePhrase","handleChange","todoStatus","selectStatus","className","type","value","placeholder","onChange","event","target","name","Default","disabled","All","Active","Completed","TodoList","state","setState","status","getTodoStatus","completed","getFilteredTodos","todos","phrase","toLowerCase","filter","todo","title","titleLowerCase","includes","this","selectUser","visibleTodos","map","id","userId","classNames","readOnly","checked","onClick","React","Component","getData","url","fetch","then","response","ok","Error","json","loadTodos","loadUserData","CurrentUser","email","phone","error","loading","a","userData","prevProps","clearSelectedUser","App","selectedUserId","loadData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.076d72ae.chunk.js","sourcesContent":["export enum TodoStatus {\n  Default = 'default',\n  All = 'all',\n  Completed = 'completed',\n  Active = 'active',\n}\n","import React from 'react';\nimport { TodoStatus } from '../../types';\nimport './TodoFilter.scss';\n\ninterface Props {\n  titlePhrase: string;\n  handleChange: (value: string) => void;\n  todoStatus: TodoStatus;\n  selectStatus: (status: TodoStatus) => void;\n}\n\nexport const TodoFilter: React.FC<Props> = (props) => {\n  const {\n    titlePhrase,\n    handleChange,\n    todoStatus,\n    selectStatus,\n  } = props;\n\n  return (\n    <div className=\"filter-block\">\n      <input\n        type=\"text\"\n        className=\"filter-block__input\"\n        value={titlePhrase}\n        placeholder=\"Search by title\"\n        onChange={(event) => handleChange(event.target.value)}\n      />\n\n      <select\n        name=\"progressTodo\"\n        value={todoStatus}\n        onChange={(event: React.ChangeEvent<HTMLSelectElement>) => (\n          selectStatus(event.target.value as TodoStatus)\n        )}\n      >\n        <option value={TodoStatus.Default} disabled>\n          Choose todo status\n        </option>\n        <option value={TodoStatus.All}>\n          All\n        </option>\n        <option value={TodoStatus.Active}>\n          Active\n        </option>\n        <option value={TodoStatus.Completed}>\n          Completed\n        </option>\n      </select>\n    </div>\n  );\n};\n","import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport { TodoStatus } from '../../types';\n\nimport { TodoFilter } from '../TodoFilter';\n\ninterface Props {\n  todos: Todo[];\n  selectUser: (userId: number) => void;\n}\n\ninterface State {\n  titlePhrase: string;\n  todoStatus: TodoStatus;\n}\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    titlePhrase: '',\n    todoStatus: TodoStatus.Default,\n  };\n\n  handleChange = (value: string) => {\n    this.setState({\n      titlePhrase: value,\n    });\n  };\n\n  selectStatus = (status: TodoStatus) => {\n    this.setState({\n      todoStatus: status,\n    });\n  };\n\n  getTodoStatus = (completed: boolean) => {\n    const { todoStatus } = this.state;\n\n    switch (todoStatus) {\n      case TodoStatus.Active:\n        return !completed;\n      case TodoStatus.Completed:\n        return completed;\n      default:\n        return true;\n    }\n  };\n\n  getFilteredTodos = (todos: Todo[]) => {\n    const { titlePhrase } = this.state;\n    const phrase = titlePhrase.toLowerCase();\n\n    return todos.filter(\n      todo => {\n        const { title, completed } = todo;\n        const titleLowerCase = title.toLowerCase();\n\n        return titleLowerCase && titleLowerCase.includes(phrase) && this.getTodoStatus(completed);\n      },\n    );\n  };\n\n  render() {\n    const { todos, selectUser } = this.props;\n    const { titlePhrase, todoStatus } = this.state;\n    const visibleTodos = this.getFilteredTodos(todos);\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <TodoFilter\n          titlePhrase={titlePhrase}\n          handleChange={this.handleChange}\n          todoStatus={todoStatus}\n          selectStatus={this.selectStatus}\n        />\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {visibleTodos.map(todo => {\n              const {\n                id, title, completed, userId,\n              } = todo;\n\n              return (\n                <li\n                  key={id}\n                  className={classNames(\n                    'TodoList__item',\n                    { 'TodoList__item--checked': completed },\n                    { 'TodoList__item--unchecked': !completed },\n                  )}\n                >\n                  <label>\n                    <input type=\"checkbox\" readOnly checked={completed} />\n                    <p>{title}</p>\n                  </label>\n\n                  <button\n                    className={classNames(\n                      'TodoList__user-button',\n                      { 'TodoList__user-button--selected': completed },\n                      'button',\n                    )}\n                    type=\"button\"\n                    onClick={() => selectUser(userId)}\n                  >\n                    {`User${userId}`}\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api/';\n\nconst getData = (url: string) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Something went wrong :(');\n      }\n\n      return response.json();\n    });\n};\n\nexport const loadTodos = () => {\n  return getData('todos');\n};\n\nexport const loadUserData = (userId: number):Promise<User> => {\n  return getData(`users/${userId}`);\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { loadUserData } from '../../api';\n\ninterface Props {\n  userId: number;\n  clearSelectedUser: () => void;\n}\n\ntype State = User & {\n  error: boolean;\n  loading: boolean;\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    id: 0,\n    name: '',\n    email: '',\n    phone: '',\n    error: false,\n    loading: false,\n  };\n\n  componentDidMount() {\n    this.loadUserData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadUserData();\n    }\n  }\n\n  loadUserData = async () => {\n    try {\n      this.setState({\n        loading: true,\n      });\n      const userData = await loadUserData(this.props.userId);\n\n      this.setState({\n        ...userData,\n        loading: false,\n        error: false,\n      });\n    } catch {\n      this.setState({\n        loading: false,\n        error: true,\n      });\n    }\n  };\n\n  render() {\n    const {\n      id,\n      name,\n      email,\n      phone,\n      error,\n      loading,\n    } = this.state;\n\n    return (\n      <>\n        {\n          loading ? (\n            <h2>Loading...</h2>\n          ) : (\n            <>\n              {error && (\n                <h2>Ups... Something went wrong</h2>\n              )}\n              {!error && (\n                <div className=\"CurrentUser\">\n                  <h2 className=\"CurrentUser__title\">\n                    <span>{`Selected user: ${id}`}</span>\n                  </h2>\n\n                  <h3 className=\"CurrentUser__name\">{name}</h3>\n                  <p className=\"CurrentUser__email\">{email}</p>\n                  <p className=\"CurrentUser__phone\">{phone}</p>\n                  <button\n                    className=\"button\"\n                    type=\"button\"\n                    onClick={this.props.clearSelectedUser}\n                  >\n                    Clear\n                  </button>\n                </div>\n              )}\n            </>\n          )\n        }\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { loadTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  error: boolean;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    error: false,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    try {\n      const todos = await loadTodos();\n\n      this.setState({\n        todos,\n      });\n    } catch {\n      this.setState({\n        error: true,\n      });\n    }\n  };\n\n  selectUser = (userId: number) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  };\n\n  clearSelectedUser = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  };\n\n  render() {\n    const { selectedUserId, todos, error } = this.state;\n\n    return (\n      error ? (\n        <h2>Ups... Something went wrong</h2>\n      ) : (\n        <div className=\"App\">\n          <div className=\"App__sidebar\">\n            <TodoList\n              todos={todos}\n              selectUser={this.selectUser}\n            />\n          </div>\n\n          <div className=\"App__content\">\n            <div className=\"App__content-container\">\n              {selectedUserId ? (\n                <CurrentUser\n                  userId={selectedUserId}\n                  clearSelectedUser={this.clearSelectedUser}\n                />\n              ) : 'No user selected'}\n            </div>\n          </div>\n        </div>\n      )\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}