{"version":3,"sources":["components/TodoFilter/TodoFilter.tsx","components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoStatus","TodoFilter","props","titlePhrase","handleChange","todoStatus","selectStatus","className","type","value","placeholder","onChange","event","target","name","default","disabled","all","active","completed","TodoList","state","setState","status","getTodoStatus","getFilteredTodos","todos","filter","todo","title","includes","this","selectUser","visibleTodos","map","id","userId","classNames","readOnly","checked","onClick","React","Component","getData","url","fetch","then","response","ok","Error","json","loadTodos","loadUserData","CurrentUser","email","phone","error","a","userData","prevProps","clearSelectedUser","App","selectedUserId","loadData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1bf490ff.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoFilter.scss';\n\nenum TodoStatus {\n  default = 'Default',\n  all = 'All',\n  completed = 'Completed',\n  active = 'Active',\n}\n\ninterface Props {\n  titlePhrase: string;\n  handleChange: (value: string) => void;\n  todoStatus: TodoStatus;\n  selectStatus: (status: TodoStatus) => void;\n}\n\nexport const TodoFilter: React.FC<Props> = (props) => {\n  const {\n    titlePhrase, handleChange, todoStatus, selectStatus,\n  } = props;\n\n  return (\n    <div className=\"filter-block\">\n      <input\n        type=\"text\"\n        className=\"filter-block__input\"\n        value={titlePhrase}\n        placeholder=\"Search by title\"\n        onChange={(event) => handleChange(event.target.value)}\n      />\n\n      <select\n        name=\"progressTodo\"\n        value={todoStatus}\n        onChange={(event: React.ChangeEvent<HTMLSelectElement>) => (\n          selectStatus(event.target.value as TodoStatus)\n        )}\n      >\n        <option value={TodoStatus.default} disabled>\n          Choose todo status\n        </option>\n        <option value={TodoStatus.all}>\n          {TodoStatus.all}\n        </option>\n        <option value={TodoStatus.active}>\n          {TodoStatus.active}\n        </option>\n        <option value={TodoStatus.completed}>\n          {TodoStatus.completed}\n        </option>\n      </select>\n    </div>\n  );\n};\n","import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\nimport { TodoFilter } from '../TodoFilter';\n\ninterface Props {\n  todos: Todo[];\n  selectUser: (userId: number) => void;\n}\n\ninterface State {\n  titlePhrase: string;\n  todoStatus: TodoStatus;\n}\n\nenum TodoStatus {\n  default = 'Default',\n  all = 'All',\n  completed = 'Completed',\n  active = 'Active',\n}\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    titlePhrase: '',\n    todoStatus: TodoStatus.default,\n  };\n\n  handleChange = (value: string) => {\n    this.setState({\n      titlePhrase: value,\n    });\n  };\n\n  selectStatus = (status: TodoStatus) => {\n    this.setState({\n      todoStatus: status,\n    });\n  };\n\n  getTodoStatus = (completed: boolean) => {\n    const { todoStatus } = this.state;\n\n    switch (todoStatus) {\n      case TodoStatus.active:\n        return !completed;\n      case TodoStatus.completed:\n        return completed;\n      default:\n        return true;\n    }\n  };\n\n  getFilteredTodos = (todos: Todo[]) => {\n    const { titlePhrase } = this.state;\n\n    return todos.filter(\n      todo => {\n        const { title, completed } = todo;\n\n        return title && title.includes(titlePhrase) && this.getTodoStatus(completed);\n      },\n    );\n  };\n\n  render() {\n    const { todos, selectUser } = this.props;\n    const { titlePhrase, todoStatus } = this.state;\n    const visibleTodos = this.getFilteredTodos(todos);\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <TodoFilter\n          titlePhrase={titlePhrase}\n          handleChange={this.handleChange}\n          todoStatus={todoStatus}\n          selectStatus={this.selectStatus}\n        />\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {visibleTodos.map(todo => {\n              const {\n                id, title, completed, userId,\n              } = todo;\n\n              return (\n                <li\n                  key={id}\n                  className={classNames(\n                    'TodoList__item',\n                    { 'TodoList__item--checked': completed },\n                    { 'TodoList__item--unchecked': !completed },\n                  )}\n                >\n                  <label>\n                    <input type=\"checkbox\" readOnly checked={completed} />\n                    <p>{title}</p>\n                  </label>\n\n                  <button\n                    className={classNames(\n                      'TodoList__user-button',\n                      { 'TodoList__user-button--selected': completed },\n                      'button',\n                    )}\n                    type=\"button\"\n                    onClick={() => selectUser(userId)}\n                  >\n                    {`User${userId}`}\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api/';\n\nconst getData = (url: string) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Something went wrong :(');\n      }\n\n      return response.json();\n    });\n};\n\nexport const loadTodos = () => {\n  return getData('todos');\n};\n\nexport const loadUserData = (userId: number):Promise<User> => {\n  return getData(`users/${userId}`);\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { loadUserData } from '../../api';\n\ninterface Props {\n  userId: number;\n  clearSelectedUser: () => void;\n}\n\ntype State = User & {\n  error: boolean;\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    id: 0,\n    name: '',\n    email: '',\n    phone: '',\n    error: false,\n  };\n\n  componentDidMount() {\n    this.loadUserData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadUserData();\n    }\n  }\n\n  loadUserData = async () => {\n    try {\n      const userData = await loadUserData(this.props.userId);\n\n      this.setState({\n        ...userData,\n        error: false,\n      });\n    } catch {\n      this.setState({\n        error: true,\n      });\n    }\n  };\n\n  render() {\n    const {\n      id, name, email, phone, error,\n    } = this.state;\n\n    return (\n      error ? (\n        <h2>Ups... Something went wrong</h2>\n      ) : (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${id}`}</span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{name}</h3>\n          <p className=\"CurrentUser__email\">{email}</p>\n          <p className=\"CurrentUser__phone\">{phone}</p>\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.props.clearSelectedUser}\n          >\n            Clear\n          </button>\n        </div>\n      )\n    );\n  }\n}\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { loadTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  error: boolean;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    error: false,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    try {\n      const todos = await loadTodos();\n\n      this.setState({\n        todos,\n        error: false,\n      });\n    } catch {\n      this.setState({\n        error: true,\n      });\n    }\n  };\n\n  selectUser = (userId: number) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  };\n\n  clearSelectedUser = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  };\n\n  render() {\n    const { selectedUserId, todos, error } = this.state;\n\n    return (\n      error ? (\n        <h2>Ups... Something went wrong</h2>\n      ) : (\n        <div className=\"App\">\n          <div className=\"App__sidebar\">\n            <TodoList\n              todos={todos}\n              selectUser={this.selectUser}\n            />\n          </div>\n\n          <div className=\"App__content\">\n            <div className=\"App__content-container\">\n              {selectedUserId ? (\n                <CurrentUser\n                  userId={selectedUserId}\n                  clearSelectedUser={this.clearSelectedUser}\n                />\n              ) : 'No user selected'}\n            </div>\n          </div>\n        </div>\n      )\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}