(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r,s=n(11),a=n.n(s),c=n(6),o=n.n(c),l=n(7),i=n(2),u=n(3),d=n(5),h=n(4),j=n(1),p=n.n(j),b=(n(17),n(18),n(19),n(20),n(9)),f=n.n(b),v=(n(21),n(0));!function(e){e.default="Default",e.all="All",e.completed="Completed",e.active="Active"}(r||(r={}));var m,O=function(e){var t=e.titlePhrase,n=e.handleChange,s=e.todoStatus,a=e.selectStatus;return Object(v.jsxs)("div",{className:"filter-block",children:[Object(v.jsx)("input",{type:"text",className:"filter-block__input",value:t,placeholder:"Search by title",onChange:function(e){return n(e.target.value)}}),Object(v.jsxs)("select",{name:"progressTodo",value:s,onChange:function(e){return a(e.target.value)},children:[Object(v.jsx)("option",{value:r.default,disabled:!0,children:"Choose todo status"}),Object(v.jsx)("option",{value:r.all,children:r.all}),Object(v.jsx)("option",{value:r.active,children:r.active}),Object(v.jsx)("option",{value:r.completed,children:r.completed})]})]})};!function(e){e.default="Default",e.all="All",e.completed="Completed",e.active="Active"}(m||(m={}));var x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={titlePhrase:"",todoStatus:m.default},e.handleChange=function(t){e.setState({titlePhrase:t})},e.selectStatus=function(t){e.setState({todoStatus:t})},e.getTodoStatus=function(t){switch(e.state.todoStatus){case m.active:return!t;case m.completed:return t;default:return!0}},e.getFilteredTodos=function(t){var n=e.state.titlePhrase;return t.filter((function(t){var r=t.title,s=t.completed;return r&&r.includes(n)&&e.getTodoStatus(s)}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.todos,n=e.selectUser,r=this.state,s=r.titlePhrase,a=r.todoStatus,c=this.getFilteredTodos(t);return Object(v.jsxs)("div",{className:"TodoList",children:[Object(v.jsx)("h2",{children:"Todos:"}),Object(v.jsx)(O,{titlePhrase:s,handleChange:this.handleChange,todoStatus:a,selectStatus:this.selectStatus}),Object(v.jsx)("div",{className:"TodoList__list-container",children:Object(v.jsx)("ul",{className:"TodoList__list",children:c.map((function(e){var t=e.id,r=e.title,s=e.completed,a=e.userId;return Object(v.jsxs)("li",{className:f()("TodoList__item",{"TodoList__item--checked":s},{"TodoList__item--unchecked":!s}),children:[Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"checkbox",readOnly:!0,checked:s}),Object(v.jsx)("p",{children:r})]}),Object(v.jsx)("button",{className:f()("TodoList__user-button",{"TodoList__user-button--selected":s},"button"),type:"button",onClick:function(){return n(a)},children:"User".concat(a)})]},t)}))})})]})}}]),n}(p.a.Component),_=n(10),S=(n(23),function(e){return fetch("".concat("https://mate.academy/students-api/").concat(e)).then((function(e){if(!e.ok)throw new Error("Something went wrong :(");return e.json()}))}),U=function(){return S("todos")},g=function(e){return S("users/".concat(e))},y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={id:0,name:"",email:"",phone:"",error:!1},e.loadUserData=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e.props.userId);case 3:n=t.sent,e.setState(Object(_.a)(Object(_.a)({},n),{},{error:!1})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({error:!0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadUserData()}},{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.loadUserData()}},{key:"render",value:function(){var e=this.state,t=e.id,n=e.name,r=e.email,s=e.phone;return e.error?Object(v.jsx)("h2",{children:"Ups... Something went wrong"}):Object(v.jsxs)("div",{className:"CurrentUser",children:[Object(v.jsx)("h2",{className:"CurrentUser__title",children:Object(v.jsx)("span",{children:"Selected user: ".concat(t)})}),Object(v.jsx)("h3",{className:"CurrentUser__name",children:n}),Object(v.jsx)("p",{className:"CurrentUser__email",children:r}),Object(v.jsx)("p",{className:"CurrentUser__phone",children:s}),Object(v.jsx)("button",{className:"button",type:"button",onClick:this.props.clearSelectedUser,children:"Clear"})]})}}]),n}(p.a.Component),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={selectedUserId:0,todos:[],error:!1},e.loadData=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U();case 3:n=t.sent,e.setState({todos:n,error:!1}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({error:!0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearSelectedUser=function(){e.setState({selectedUserId:0})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,n=e.todos;return e.error?Object(v.jsx)("h2",{children:"Ups... Something went wrong"}):Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("div",{className:"App__sidebar",children:Object(v.jsx)(x,{todos:n,selectUser:this.selectUser})}),Object(v.jsx)("div",{className:"App__content",children:Object(v.jsx)("div",{className:"App__content-container",children:t?Object(v.jsx)(y,{userId:t,clearSelectedUser:this.clearSelectedUser}):"No user selected"})})]})}}]),n}(p.a.Component),C=k;a.a.render(Object(v.jsx)(C,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.1bf490ff.chunk.js.map